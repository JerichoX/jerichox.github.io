---
layout:     post
title:      我的面试记录
subtitle:   求知若饥,虚心若愚
date:       2019-05-14
author:     Jericho
header-img: img/article-pic/143522.jpg
catalog: false
categories: Technology
tags:
    - Java
---

##### 1. 讲一下redis的主从复制怎么做的？
简单来说就是“配从不配主”，在从节点中发送`slaveof 主节点地址`就可以复制主节点数据到从节点。

##### 2. ArrayList list = new ArrayList(20);中的list扩充几次？
扩充0次，因为直接指明了list的长度，所以就直接初始化大小为20的list，没有扩容。
如果没有指明长度，ArrayList()构造长度为10的空列表，扩容则扩容为原来长度的1.5倍。

##### 3. sql索引相关
索引的分类：单列索引（普通索引[无约束]、唯一索引[UNIQUE]、主键索引[PRIMARY]）、组合索引、全文索引、空间索引；

添加索引：
1. 可以直接在创建表的时候为字段添加索引，例如添加主键索引；

2. 在已经存在的表上创建索引：`ALTER TABLE 表名 ADD [UNIQUE|FULLTEXT|SPATIAL] [INDEX|KEY] [索引名] (索引字段名)[ASC|DESC]`

3. 使用CREATE INDEX创建索引：`CREATE [UNIQUE|FULLTEXT|SPATIAL] [INDEX|KEY] 索引名称 ON 表名(创建索引的字段名[length])[ASC|DESC]`

查看指定表中的索引：`SHOW INDEX FROM table_name`

EXPLAIN关键字，用来查看索引是否正在被使用，验证索引，如果为age字段设置了索引，执行`EXPLAIN SELECT * FROM table_name WHERE age = 99`，会返回用到的索引的信息；

删除索引：

1. `ALTER TABLE 表名 DROP INDEX 索引名`

2. `DROP INDEX 索引名 ON 表名`

学习自：[简书](https://www.jianshu.com/p/0d6c828d3c70)

##### 4. 为什么重写equals一定要重写hashcode？
当我们向哈希表(如HashSet、HashMap等)中添加对象object时，首先调用hashCode()方法计算object的哈希码，通过哈希码可以直接定位object在哈希表中的位置(一般是哈希码对哈希表大小取余)。如果该位置没有对象，可以直接将object插入该位置；如果该位置有对象(可能有多个，通过链表实现)，则调用equals()方法比较这些对象与object是否相等，如果相等，则不需要保存object；如果不相等，则将该对象加入到链表中。

这也就解释了为什么equals()相等，则hashCode()必须相等。如果两个对象equals()相等，则它们在哈希表(如HashSet、HashMap等)中只应该出现一次；如果hashCode()不相等，那么它们会被散列到哈希表的不同位置，哈希表中出现了不止一次。

##### 5. 介绍一下TCP/IP三次握手的原理
    ACK： 响应数据包
    SYN： 主动建立连接数据包

第一次握手
客户主动（active open）去connect服务器，并且发送SYN 假设序列号为J,服务器是被动打开(passive open)；

第二次握手
服务器在收到SYN后，它会发送一个SYN以及一个ACK（应答）给客户，ACK的序列号是 J+1表示是给SYN J的应答，新发送的SYN K 序列号是K；

第三次握手
客户在收到新SYN K, ACK J+1 后，也回应ACK K+1 以表示收到了，然后两边就可以开始数据发送数据了。





